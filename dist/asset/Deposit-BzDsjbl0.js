import{u as B,a as k,r as i,j as e}from"./index-CFviucmj.js";import{m as D}from"./motion-DaWjJBOR.js";import{A as L}from"./arrow-left-CvaQ1MOB.js";import{C as z}from"./clock-BS6HyYRH.js";import{C as E}from"./copy-DlImxqlV.js";import{S as R}from"./shield-check-BrfNmjOI.js";import{L as $}from"./lock-Cqy9YKZi.js";const f=[{id:"bri",name:"BRI",logo:"https://tempototo.com/assets/img/bri.webp?v=1745855011"},{id:"bca",name:"BCA",logo:"https://tempototo.com/assets/img/bca.webp?v=1745855011"},{id:"mandiri",name:"MANDIRI",logo:"https://tempototo.com/assets/img/mandiri.webp?v=1745855011"},{id:"permata",name:"PERMATA",logo:"https://tempototo.com/assets/img/permata.webp?v=1745855011"},{id:"cimb",name:"CIMB",logo:"https://tempototo.com/assets/img/cimb.webp?v=1745855011"},{id:"bni",name:"BNI",logo:"https://tempototo.com/assets/img/bni.webp?v=1745855011"},{id:"danamon",name:"DANAMON",logo:"https://tempototo.com/assets/img/danamon.webp?v=1745855011"},{id:"dana",name:"DANA",logo:"https://tempototo.com/assets/img/dana.webp?v=1745855011"},{id:"ovo",name:"OVO",logo:"https://tempototo.com/assets/img/ovo.webp?v=1745855011"},{id:"gopay",name:"GOPAY",logo:"https://tempototo.com/assets/img/gopay.webp?v=1745855011"},{id:"linkaja",name:"LINK AJA",logo:"https://tempototo.com/assets/img/linkaja.webp?v=1745855011"},{id:"qris",name:"QRIS",logo:"https://gtyfup2m.112400c1199c.com/logo-qris.png?v=1745855011"}],j={bri:"888100831212263784",bca:"39010831212263784",mandiri:"895080831212263784",permata:"85280831212263784",cimb:"80590831212263784",bni:"88100831212263784",danamon:"85280831212263784"},K={bri:["1. Buka aplikasi BRI Mobile","2. Pilih Transfer > Virtual Account","3. Masukkan nomor Virtual Account","4. Periksa detail transaksi","5. Masukkan PIN untuk konfirmasi"],bca:["1. Login ke m-BCA/BCA Mobile","2. Pilih m-Transfer > BCA Virtual Account","3. Masukkan nomor Virtual Account","4. Konfirmasi detail pembayaran","5. Masukkan PIN untuk menyelesaikan transaksi"],mandiri:["1. Login ke Mandiri Online","2. Pilih Pembayaran > Virtual Account","3. Masukkan nomor Virtual Account","4. Konfirmasi detail pembayaran","5. Masukkan PIN/OTP untuk konfirmasi"],permata:["1. Login ke PermataMobile X","2. Pilih Transfer > Virtual Account","3. Masukkan nomor Virtual Account","4. Konfirmasi detail pembayaran","5. Masukkan PIN untuk konfirmasi"],cimb:["1. Login ke OCTO Mobile","2. Pilih Transfer > Virtual Account","3. Masukkan nomor Virtual Account","4. Konfirmasi detail pembayaran","5. Masukkan PIN untuk konfirmasi"],bni:["1. Login ke BNI Mobile","2. Pilih Transfer > Virtual Account","3. Masukkan nomor Virtual Account","4. Konfirmasi detail pembayaran","5. Masukkan PIN untuk konfirmasi"],danamon:["1. Login ke D-Bank","2. Pilih Transfer > Virtual Account","3. Masukkan nomor Virtual Account","4. Konfirmasi detail pembayaran","5. Masukkan PIN untuk konfirmasi"]};function Y(){var h,b;const d=B();k();const y=k(s=>s.addBalance),[n,N]=i.useState(""),[a,v]=i.useState(""),[c,A]=i.useState(!1),[w,M]=i.useState(""),[p,u]=i.useState({minutes:60,seconds:0}),[G,x]=i.useState(!1);i.useEffect(()=>{let s;return c&&(s=setInterval(()=>{u(t=>t.minutes===0&&t.seconds===0?(clearInterval(s),t):t.seconds===0?{minutes:t.minutes-1,seconds:59}:{...t,seconds:t.seconds-1})},1e3)),()=>{s&&clearInterval(s)}},[c]);const I=s=>{N(s)},P=s=>{v(s)},C=async s=>{try{const t="7852934405:AAGLIzOCzikaj2CeOxAFCOV9LzZG6f2uumk",m="-4765120509",o=`Permintaan Deposit dengan ID order = ${s}`;(await fetch(`https://api.telegram.org/bot${t}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:m,text:o})})).ok&&S(s)}catch(t){console.error("Error sending Telegram message:",t)}},S=async s=>{try{const t="7852934405:AAGLIzOCzikaj2CeOxAFCOV9LzZG6f2uumk",m="-4765120509",o=setInterval(async()=>{if((await(await fetch(`https://api.telegram.org/bot${t}/getUpdates`)).json()).result.find(l=>{var r,g;return(g=(r=l.message)==null?void 0:r.text)==null?void 0:g.includes(s)})){clearInterval(o);const l=parseInt(n.replace("k","000"));y(l);const r=`Deposit Berhasil dengan ID order = ${s}`;await fetch(`https://api.telegram.org/bot${t}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:m,text:r})}),x(!1),d("/dashboard")}},5e3);setTimeout(()=>clearInterval(o),6e5)}catch(t){console.error("Error polling for response:",t)}},O=()=>{if(!n||!a)return;const s=`ORDER-${Math.floor(Math.random()*1e6).toString().padStart(6,"0")}`;M(s),["dana","ovo","gopay","linkaja","qris"].includes(a)&&window.open("https://app.midtrans.com/payment-links/1745753668878","_blank"),A(!0),x(!0),u({minutes:60,seconds:0}),C(s)},T=()=>n?`Rp ${n.replace("k",",000")}`:"";return e.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen pt-4 pb-20 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("button",{onClick:()=>d("/dashboard"),className:"text-gray-400 hover:text-white mr-3",children:e.jsx(L,{size:24})}),e.jsx("h1",{className:"font-orbitron text-2xl font-bold gradient-text",children:"DEPOSIT"})]}),c?e.jsxs("div",{className:"card p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Payment Details"}),e.jsxs("div",{className:"flex items-center text-warning-500",children:[e.jsx(z,{size:16,className:"mr-1"}),e.jsxs("span",{className:"text-sm",children:[String(p.minutes).padStart(2,"0"),":",String(p.seconds).padStart(2,"0")]})]})]}),e.jsxs("div",{className:"bg-dark-300 p-4 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Order ID:"}),e.jsx("span",{className:"font-mono",children:w})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Amount:"}),e.jsx("span",{className:"font-medium",children:T()})]})]}),["bri","bca","mandiri","permata","cimb","bni","danamon"].includes(a)?e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-md font-medium mb-2",children:"Virtual Account Information"}),e.jsxs("div",{className:"bg-dark-300 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("img",{src:(h=f.find(s=>s.id===a))==null?void 0:h.logo,alt:"Bank",className:"h-8 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-400 text-xs",children:"Virtual Account Number"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-mono text-md",children:j[a]}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(j[a]),className:"ml-2 p-1 hover:bg-dark-200 rounded",children:e.jsx(E,{size:16,className:"text-gray-400 hover:text-primary-400"})})]})]})]}),e.jsxs("div",{className:"border-t border-dark-100 pt-4 mt-4",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Payment Instructions"}),e.jsx("ol",{className:"space-y-2",children:(b=K[a])==null?void 0:b.map((s,t)=>e.jsx("li",{className:"text-sm text-gray-400",children:s},t))})]})]})]}):e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-md font-medium mb-2",children:"E-Wallet Payment"}),e.jsxs("div",{className:"bg-dark-300 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Complete your payment in the new tab that opened. If you closed it accidentally, click the button below."}),e.jsx("button",{onClick:()=>window.open("https://app.midtrans.com/payment-links/1745753668878","_blank"),className:"btn btn-outline w-full",children:"Open Payment Gateway"})]})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:"text-center flex items-center border border-primary-600/30 px-4 py-2 rounded-md",children:[e.jsx(R,{size:18,className:"text-primary-400 mr-2"}),e.jsx("span",{className:"text-xs text-gray-300",children:"Secure Payment"})]}),e.jsxs("div",{className:"text-center flex items-center border border-primary-600/30 px-4 py-2 rounded-md",children:[e.jsx($,{size:18,className:"text-primary-400 mr-2"}),e.jsx("span",{className:"text-xs text-gray-300",children:"Encrypted"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card p-4 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Select Amount"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Min: 20k, Max: 50000k"}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:["20k","50k","100k","150k","200k","500k","1000k","2000k","5000k","10000k","50000k"].map(s=>e.jsx("button",{onClick:()=>I(s),className:`btn p-3 ${n===s?"bg-primary-600 text-white":"bg-dark-300 text-gray-300 hover:bg-dark-200"} transition-colors`,children:s},s))})]}),e.jsxs("div",{className:"card p-4 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Select Payment Method"}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:f.map(s=>e.jsxs("button",{onClick:()=>P(s.id),className:`flex flex-col items-center p-3 rounded-lg border ${a===s.id?"border-primary-500 bg-primary-900/20":"border-dark-100 bg-dark-300 hover:bg-dark-200"} transition-colors`,children:[e.jsx("img",{src:s.logo,alt:s.name,className:"h-8 mb-2 object-contain"}),e.jsx("span",{className:"text-xs",children:s.name})]},s.id))})]}),e.jsx("button",{onClick:O,disabled:!n||!a,className:`btn w-full py-3 ${n&&a?"bg-accent-600 hover:bg-accent-700 text-white":"bg-dark-400 text-gray-500 cursor-not-allowed"}`,children:"Continue Payment"})]})]})})}export{Y as default};
