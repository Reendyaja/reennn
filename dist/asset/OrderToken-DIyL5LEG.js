import{u as R,a as V,r as i,j as e}from"./index-CFviucmj.js";import{m as l}from"./motion-DaWjJBOR.js";import{A as z}from"./arrow-left-CvaQ1MOB.js";import{C as $}from"./coins-CQMp_lc8.js";import{C as E}from"./clock-BS6HyYRH.js";import{S as G}from"./shield-check-BrfNmjOI.js";const d=[{amount:5,price:159e3,name:"5 Token"},{amount:10,price:199e3,name:"10 Token"},{amount:50,price:299e3,name:"50 Token"},{amount:100,price:399e3,name:"100 Token"}],f=[{id:"bri",name:"BRI",logo:"https://tempototo.com/assets/img/bri.webp?v=1745855011"},{id:"bca",name:"BCA",logo:"https://tempototo.com/assets/img/bca.webp?v=1745855011"},{id:"mandiri",name:"MANDIRI",logo:"https://tempototo.com/assets/img/mandiri.webp?v=1745855011"},{id:"permata",name:"PERMATA",logo:"https://tempototo.com/assets/img/permata.webp?v=1745855011"},{id:"cimb",name:"CIMB",logo:"https://tempototo.com/assets/img/cimb.webp?v=1745855011"},{id:"bni",name:"BNI",logo:"https://tempototo.com/assets/img/bni.webp?v=1745855011"},{id:"danamon",name:"DANAMON",logo:"https://tempototo.com/assets/img/danamon.webp?v=1745855011"},{id:"dana",name:"DANA",logo:"https://tempototo.com/assets/img/dana.webp?v=1745855011"},{id:"ovo",name:"OVO",logo:"https://tempototo.com/assets/img/ovo.webp?v=1745855011"},{id:"gopay",name:"GOPAY",logo:"https://tempototo.com/assets/img/gopay.webp?v=1745855011"},{id:"linkaja",name:"LINK AJA",logo:"https://tempototo.com/assets/img/linkaja.webp?v=1745855011"},{id:"qris",name:"QRIS",logo:"https://gtyfup2m.112400c1199c.com/logo-qris.png?v=1745855011"}],k={bri:"888100831212263784",bca:"39010831212263784",mandiri:"895080831212263784",permata:"85280831212263784",cimb:"80590831212263784",bni:"88100831212263784",danamon:"85280831212263784"},F={bri:["1. Buka aplikasi BRI Mobile","2. Pilih Transfer > Virtual Account","3. Masukkan nomor Virtual Account","4. Periksa detail transaksi","5. Masukkan PIN untuk konfirmasi"],bca:["1. Login ke m-BCA/BCA Mobile","2. Pilih m-Transfer > BCA Virtual Account","3. Masukkan nomor Virtual Account","4. Konfirmasi detail pembayaran","5. Masukkan PIN untuk menyelesaikan transaksi"],mandiri:["1. Login ke Mandiri Online","2. Pilih Pembayaran > Virtual Account","3. Masukkan nomor Virtual Account","4. Konfirmasi detail pembayaran","5. Masukkan PIN/OTP untuk konfirmasi"]};function ee(){var h,u,g;const p=R(),{romId:K,addTokens:y}=V(),[a,N]=i.useState(null),[t,v]=i.useState(""),[w,P]=i.useState(!1),[M,A]=i.useState(""),[C,_]=i.useState(60),[q,x]=i.useState(!1),I=s=>{N(s)},S=s=>{v(s)},O=async(s,n)=>{try{const o="7852934405:AAGLIzOCzikaj2CeOxAFCOV9LzZG6f2uumk",c="-4765120509",r=`Permintaan Deposit dengan ID order = ${s} dan jumlah Token = ${n}`;(await fetch(`https://api.telegram.org/bot${o}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:c,text:r})})).ok&&T(s,n)}catch(o){console.error("Error sending Telegram message:",o)}},T=async(s,n)=>{try{const o="7852934405:AAGLIzOCzikaj2CeOxAFCOV9LzZG6f2uumk",c="-4765120509",r=setInterval(async()=>{if((await(await fetch(`https://api.telegram.org/bot${o}/getUpdates`)).json()).result.find(m=>{var b,j;return(j=(b=m.message)==null?void 0:b.text)==null?void 0:j.includes(s)})){clearInterval(r),y(n);const m=`Deposit Berhasil dengan ID order = ${n}`;await fetch(`https://api.telegram.org/bot${o}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:c,text:m})}),x(!1),p("/dashboard")}},5e3);setTimeout(()=>clearInterval(r),6e5)}catch(o){console.error("Error polling for response:",o)}},D=()=>{if(!a||!t)return;const s=`ORD-${Math.floor(Math.random()*1e6).toString().padStart(6,"0")}`;A(s),["dana","ovo","gopay","linkaja","qris"].includes(t)&&window.open("https://app.midtrans.com/payment-links/1745753668878","_blank"),P(!0),x(!0),O(s,a)},B=()=>{if(a===null)return"";const s=d.find(n=>n.amount===a);return s?s.price.toLocaleString():""};return e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen pt-4 pb-20 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("button",{onClick:()=>p("/dashboard"),className:"text-gray-400 hover:text-white mr-3",children:e.jsx(z,{size:24})}),e.jsx("h1",{className:"font-orbitron text-2xl font-bold gradient-text",children:"ORDER TOKEN"})]}),w?e.jsxs("div",{className:"card p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Payment Details"}),e.jsxs("div",{className:"flex items-center text-warning-500",children:[e.jsx(E,{size:16,className:"mr-1"}),e.jsxs("span",{className:"text-sm",children:[C,":00"]})]})]}),e.jsxs("div",{className:"bg-dark-300 p-4 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Order ID:"}),e.jsx("span",{className:"font-mono",children:M})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Package:"}),e.jsx("span",{className:"font-medium",children:(h=d.find(s=>s.amount===a))==null?void 0:h.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Amount:"}),e.jsxs("span",{className:"font-medium",children:["Rp ",B()]})]})]}),["bri","bca","mandiri","permata","cimb","bni","danamon"].includes(t)?e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-md font-medium mb-2",children:"Virtual Account Information"}),e.jsxs("div",{className:"bg-dark-300 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("img",{src:(u=f.find(s=>s.id===t))==null?void 0:u.logo,alt:"Bank",className:"h-8 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-400 text-xs",children:"Virtual Account Number"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-mono text-md",children:k[t]}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(k[t]),className:"ml-2 p-1 hover:bg-dark-200 rounded",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})})]})]})]}),e.jsxs("div",{className:"border-t border-dark-100 pt-4 mt-4",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Payment Instructions"}),e.jsx("ol",{className:"space-y-2",children:(g=F[t])==null?void 0:g.map((s,n)=>e.jsx("li",{className:"text-sm text-gray-400 flex",children:e.jsx("span",{className:"mr-2",children:s})},n))})]})]})]}):e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-md font-medium mb-2",children:"E-Wallet Payment"}),e.jsxs("div",{className:"bg-dark-300 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Complete your payment in the new tab that opened. If you closed it accidentally, click the button below."}),e.jsx("button",{onClick:()=>window.open("https://app.midtrans.com/payment-links/1745753668878","_blank"),className:"btn btn-outline w-full",children:"Open Payment Gateway"})]})]}),e.jsx("div",{className:"flex items-center justify-center space-x-4",children:e.jsxs("div",{className:"text-center flex items-center border border-primary-600/30 px-4 py-2 rounded-md",children:[e.jsx(G,{size:18,className:"text-primary-400 mr-2"}),e.jsx("span",{className:"text-xs text-gray-300",children:"Secure Payment"})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card p-4 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Select Token Package"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:d.map(s=>e.jsxs("button",{onClick:()=>I(s.amount),className:`flex justify-between items-center p-4 rounded-lg border ${a===s.amount?"border-primary-500 bg-primary-900/20":"border-dark-100 bg-dark-300 hover:bg-dark-200"} transition-colors`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:`mr-3 ${a===s.amount?"text-primary-400":"text-gray-400"}`,size:24}),e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsxs("span",{className:"font-mono",children:["Rp ",s.price.toLocaleString()]})]},s.amount))})]}),a!==null&&e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-4 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Select Payment Method"}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:f.map(s=>e.jsxs("button",{onClick:()=>S(s.id),className:`flex flex-col items-center p-3 rounded-lg border ${t===s.id?"border-primary-500 bg-primary-900/20":"border-dark-100 bg-dark-300 hover:bg-dark-200"} transition-colors`,children:[e.jsx("img",{src:s.logo,alt:s.name,className:"h-8 mb-2 object-contain"}),e.jsx("span",{className:"text-xs",children:s.name})]},s.id))})]}),a!==null&&t&&e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsx("button",{onClick:D,className:"btn btn-accent w-full py-3",children:"Continue Payment"})})]})]})})}export{ee as default};
